{"name": "整夜房远期预定流程测试", "status": "failed", "statusDetails": {"message": "AssertionError: 当前返回实际值为: 房费总额:\n  ¥138.00\n  实付金额:\n  ¥138.00\nassert '房费总额:\\n¥138....付金额:\\n¥138.00' == '房费总额:\\n¥158....付金额:\\n¥158.00'\n    房费总额:\n  - ¥158.00\n  ?   ^\n  + ¥138.00\n  ?   ^\n    实付金额:\n  - ¥158.00...\n  \n  ...Full output truncated (4 lines hidden), use '-vv' to show", "trace": "self = <testcases.test_night_order.TestNightOrder object at 0x1082ddd60>, name = '逍遥', phone = '15800978440', room_type = '影院双床立方', start_date = '18', end_date = '19', except_result = {'expect_result': [{'房费总额': '¥158.00'}, {'实付金额': '¥158.00'}, {'总价': '¥158.00'}, {'入住人': '逍遥'}]}\n\n    @allure.title(\"整夜房远期预定流程测试\")\n    @pytest.mark.parametrize((\"name\", \"phone\", \"room_type\", \"start_date\", \"end_date\", \"except_result\"),\n                             get_data('test_forward_night_order', '../data/pro_data/test_overnight_order.yaml'))\n    def test_forward_night_order(self, name, phone, room_type, start_date, end_date, except_result):\n        \"\"\"\n        远期预定流程\n        :param name: 入住人\n        :param phone: 电话号码\n        :param room_type: 房型名称\n        :param start_date: 开始日期\n        :param end_date: 结束日期\n        :param except_result: 期望结果集\n        :return: None\n        \"\"\"\n        with allure.step(f\"{start_date}日：{room_type}-整夜房下单流程\"):\n            hotel_scheduled = self.main.set_night_date(\n                start_date, end_date).tap_search_hotels().goto_hotel_detail().goto_hotel_scheduled(\n                room_type).save_order(name,\n                                      phone)\n        with allure.step(\"校验整夜房费是否正确\"):\n            fee_result = hotel_scheduled.get_fee()\n            room_rate = except_result.get(\"expect_result\")[0].get(\"房费总额\")\n            amount_paid = except_result.get(\"expect_result\")[1].get(\"实付金额\")\n>           assert fee_result == f'房费总额:\\n{room_rate}\\n实付金额:\\n{amount_paid}', f'当前返回实际值为: {fee_result}'\nE           AssertionError: 当前返回实际值为: 房费总额:\nE             ¥138.00\nE             实付金额:\nE             ¥138.00\nE           assert '房费总额:\\n¥138....付金额:\\n¥138.00' == '房费总额:\\n¥158....付金额:\\n¥158.00'\nE               房费总额:\nE             - ¥158.00\nE             ?   ^\nE             + ¥138.00\nE             ?   ^\nE               实付金额:\nE             - ¥158.00...\nE             \nE             ...Full output truncated (4 lines hidden), use '-vv' to show\n\n../testcases/test_night_order.py:170: AssertionError"}, "description": "\n        远期预定流程\n        :param name: 入住人\n        :param phone: 电话号码\n        :param room_type: 房型名称\n        :param start_date: 开始日期\n        :param end_date: 结束日期\n        :param except_result: 期望结果集\n        :return: None\n        ", "steps": [{"name": "18日：影院双床立方-整夜房下单流程", "status": "passed", "start": 1602661496939, "stop": 1602661688671}, {"name": "校验整夜房费是否正确", "status": "failed", "statusDetails": {"message": "AssertionError: 当前返回实际值为: 房费总额:\n  ¥138.00\n  实付金额:\n  ¥138.00\nassert '房费总额:\\n¥138....付金额:\\n¥138.00' == '房费总额:\\n¥158....付金额:\\n¥158.00'\n    房费总额:\n  - ¥158.00\n  ?   ^\n  + ¥138.00\n  ?   ^\n    实付金额:\n  - ¥158.00...\n  \n  ...Full output truncated (4 lines hidden), use '-vv' to show\n", "trace": "  File \"/Users/apple/Documents/M3/m3_test/m3_mp_test/testcases/test_night_order.py\", line 170, in test_forward_night_order\n    assert fee_result == f'房费总额:\\n{room_rate}\\n实付金额:\\n{amount_paid}', f'当前返回实际值为: {fee_result}'\n"}, "start": 1602661688671, "stop": 1602661749807}], "attachments": [{"name": "log", "source": "50247a20-2cd1-4686-8b63-80181abbf84b-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "name", "value": "'逍遥'"}, {"name": "phone", "value": "'15800978440'"}, {"name": "room_type", "value": "'影院双床立方'"}, {"name": "start_date", "value": "'18'"}, {"name": "end_date", "value": "'19'"}, {"name": "except_result", "value": "{'expect_result': [{'房费总额': '¥158.00'}, {'实付金额': '¥158.00'}, {'总价': '¥158.00'}, {'入住人': '逍遥'}]}"}], "start": 1602661496938, "stop": 1602661749807, "uuid": "ef9735dc-3022-48a9-a06a-2bfb32a329ef", "historyId": "0b14379900ae8670ca189d37867ad0e8", "testCaseId": "c1e5f9c49a8bb5cb3c734901c773ebd9", "fullName": "test_night_order.TestNightOrder#test_forward_night_order", "labels": [{"name": "feature", "value": "整夜房预定订单模块"}, {"name": "suite", "value": "test_night_order"}, {"name": "subSuite", "value": "TestNightOrder"}, {"name": "host", "value": "mac-test.local"}, {"name": "thread", "value": "72694-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_night_order"}]}